<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Correlation Explorer</title>
<script src="../lib/chart.min.js"></script>
<link rel="stylesheet" href="../css/styles.css">
<style>
body {
  font-family: Arial, sans-serif;
  margin:0;
  padding:20px;
}
.control-panel {
  text-align:center;
  margin-bottom:20px;
}
.concept-section {
  margin-top:30px;
  text-align:center;
}
.concept-section canvas {
  max-width:400px;
  max-height:400px;
}
.result {
  font-weight:bold;
  margin-top:10px;
}
.pair-canvases {
  display:flex;
  justify-content:center;
  gap:20px;
  flex-wrap:wrap;
}
</style>
</head>
<body>
<h1>Correlation Explorer</h1>

<p>This page shows how several familiar similarity measures are all built from
the inner product (⟨x,y⟩). By adjusting the vectors below, you can see how each
variation—normalization or centering—transforms the same underlying calculation.</p>

<div class="control-panel">
  <div class="slider-container">
     <label for="vectorAX1">Vector A (x1, y1):</label><br>
     <input type="range" id="vectorAX1" min="-10" max="10" value="0">
     <input type="range" id="vectorAY1" min="-10" max="10" value="0">
     <span id="vectorAOutput">(0, 0)</span>
  </div>
  <div class="slider-container">
     <label for="vectorBX1">Vector B (x2, y2):</label><br>
     <input type="range" id="vectorBX1" min="-10" max="10" value="0">
     <input type="range" id="vectorBY1" min="-10" max="10" value="0">
     <span id="vectorBOutput">(0, 0)</span>
  </div>
</div>

<section id="dotProductSection" class="concept-section">
  <h2>Dot Product</h2>
  <p>The raw inner product ⟨x,y⟩ = ∑ xᵢ yᵢ. It equals the length of the projection
  of one vector onto the other times that vector's length.</p>
  <canvas id="dotProductChart"></canvas>
  <p class="result">Dot Product: <span id="dotProductValue">-</span></p>
</section>

<section id="cosineSection" class="concept-section">
  <h2>Cosine Similarity</h2>
  <p>A normalized dot product ⟨x,y⟩/(‖x‖‖y‖) that measures how aligned the
  vectors are by the cosine of the angle between them.</p>
  <canvas id="cosineChart"></canvas>
  <p class="result">Cosine Similarity: <span id="cosineSimilarityValue">-</span></p>
</section>

<section id="pearsonSection" class="concept-section">
  <h2>Pearson Correlation</h2>
  <p>The cosine similarity of centered vectors:
  ⟨x - x̄, y - ȳ⟩/(‖x - x̄‖‖y - ȳ‖).</p>
  <div class="pair-canvases">
    <div>
      <p><em>Before Centering</em></p>
      <canvas id="pearsonBeforeChart"></canvas>
    </div>
    <div>
      <p><em>After Centering</em></p>
      <canvas id="pearsonChart"></canvas>
    </div>
  </div>
  <p class="result">Pearson Correlation: <span id="pearsonCorrelationValue">-</span></p>
</section>

<section id="olsSection" class="concept-section">
  <h2>OLS Regression Coefficient</h2>
  <p>The one-sided normalized inner product: ⟨x,y⟩/‖x‖², giving the slope of the
  best-fit line predicting components of Vector B from Vector A.</p>
  <canvas id="olsChart"></canvas>
  <p class="result">OLS Coefficient: <span id="olsCoefficientValue">-</span></p>
</section>

<section class="concept-section">
  <h2>Summary</h2>
  <table style="margin:0 auto;">
    <tr><th>Measure</th><th>Centering</th><th>Normalization</th></tr>
    <tr><td>Dot Product</td><td>No</td><td>None</td></tr>
    <tr><td>Cosine Similarity</td><td>No</td><td>Both vectors</td></tr>
    <tr><td>Pearson Correlation</td><td>Both vectors</td><td>Both vectors</td></tr>
    <tr><td>OLS Coefficient</td><td>No</td><td>Vector A only</td></tr>
  </table>
</section>

<script src="../javascript/common.js"></script>
<script src="../javascript/correlation.js"></script>
</body>
</html>
